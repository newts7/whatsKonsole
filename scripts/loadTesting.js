
var time=5000;

var dotask=setInterval(sendMessage,time);
var index=0;
var spamList={
    "919045321537@c.us":true,
    "16502898894@c.us":true,
    "918218962520@c.us":true,
    "917983354236@c.us":true,
    "919414367835@c.us":true,
    "919458046050@c.us":true,
    "919997554207@c.us":true,
    "918955333413@c.us":true,
    "919008767748@c.us":true,
    "919456889843@c.us":true,
    "919627784730@c.us":true,
    "917289010212@c.us": true,
};
//var contacts=['16177589948@c.us', '16502898894@c.us', '6584011893@c.us', '917000825007@c.us', '917022161211@c.us', '917023129711@c.us', '917023155735@c.us', '917023356768@c.us', '917023381695@c.us', '917023395691@c.us', '917023578262@c.us', '917032926739@c.us', '917037297108@c.us', '917037544343@c.us', '917037703859@c.us', '917042031258@c.us', '917046838868@c.us', '917055024939@c.us', '917060074870@c.us', '917060074938@c.us', '917060360066@c.us', '917060502239@c.us', '917060560650@c.us', '917060866773@c.us', '917065132638@c.us', '917068445448@c.us', '917071144701@c.us', '917073060733@c.us', '917073210847@c.us', '917210564065@c.us', '917210625978@c.us', '917217229072@c.us', '917229824960@c.us', '917229824983@c.us', '917230968857@c.us', '917231058465@c.us', '917232099142@c.us', '917247857132@c.us', '917270008330@c.us', '917275185811@c.us', '917275493769@c.us', '917275713337@c.us', '917275774945@c.us', '917289010212@c.us', '917289094814@c.us', '917289992778@c.us', '917318735866@c.us', '917348373764@c.us', '917348414793@c.us', '917351031789@c.us', '917351067400@c.us', '917351644226@c.us', '917355487915@c.us', '917376063545@c.us', '917376098230@c.us', '917376550503@c.us', '917376748485@c.us', '917388765022@c.us', '917390960655@c.us', '917398368540@c.us', '917398728132@c.us', '917409377774@c.us', '917409912056@c.us', '917417005523@c.us', '917417011739@c.us', '917417030130@c.us', '917417233221@c.us', '917417265811@c.us', '917417588002@c.us', '917417613463@c.us', '917417617426@c.us', '917417743609@c.us', '917417744181@c.us', '917417840824@c.us', '917417994898@c.us', '917454948749@c.us', '917455998465@c.us', '917464979069@c.us', '917466067121@c.us', '917500310597@c.us', '917500901991@c.us', '917503163225@c.us', '917503251652@c.us', '917503794139@c.us', '917533079024@c.us', '917534962271@c.us', '917550456770@c.us', '917567631877@c.us', '917597387021@c.us', '917599115565@c.us', '917599116804@c.us', '917599175455@c.us', '917599355561@c.us', '917599412895@c.us', '917599439162@c.us', '917617819706@c.us', '917618277982@c.us', '917665736474@c.us', '917665946412@c.us', '917678138666@c.us', '917726967696@c.us', '917737317473@c.us', '917737338544@c.us', '917753010311@c.us', '917753889705@c.us', '917784842334@c.us', '917790907801@c.us', '917792077381@c.us', '917800720525@c.us', '917800907201@c.us', '917830441964@c.us', '917830939848@c.us', '917835808044@c.us', '917838204992@c.us', '917838217558@c.us', '917839016531@c.us', '917839049681@c.us', '917891027763@c.us', '917895219991@c.us', '917895242808@c.us', '917895710210@c.us', '917895776474@c.us', '917895897807@c.us', '917895899076@c.us', '917895899255@c.us', '917895899384@c.us', '917895899690@c.us', '917895900956@c.us', '917895901453@c.us', '917895901649@c.us', '917895924376@c.us', '917897716470@c.us', '917905455145@c.us', '917976562768@c.us', '917983354236@c.us', '918000155526@c.us', '918004243151@c.us', '918004265051@c.us', '918004471364@c.us', '918004487549@c.us', '918004546629@c.us', '918004842046@c.us', '918004866722@c.us', '918004901600@c.us', '918005197578@c.us', '918005281110@c.us', '918005316003@c.us', '918006707199@c.us', '918012342862@c.us', '918052332186@c.us', '918058442727@c.us', '918058976484@c.us', '918076263408@c.us', '918076857175@c.us', '918077495688@c.us', '918077955536@c.us', '918084410670@c.us', '918090253252@c.us', '918090729342@c.us', '918090873675@c.us', '918090951024@c.us', '918090985151@c.us', '918094239737@c.us', '918095897975@c.us', '918107550656@c.us', '918107984097@c.us', '918120386363@c.us', '918126826821@c.us', '918127026009@c.us', '918127544678@c.us', '918130378953@c.us', '918130638101@c.us', '918171096014@c.us', '918171096683@c.us', '918171331341@c.us', '918171498505@c.us', '918171528911@c.us', '918171575908@c.us', '918171581913@c.us', '918172811277@c.us', '918173824682@c.us', '918175981568@c.us', '918176958154@c.us', '918178033080@c.us', '918191983339@c.us', '918194005517@c.us', '918218296565@c.us', '918218962520@c.us', '918227861695@c.us', '918265990596@c.us', '918267894591@c.us', '918272080002@c.us', '918279759909@c.us', '918279763409@c.us', '918285188034@c.us', '918285407621@c.us', '918285698087@c.us', '918290360190@c.us', '918299136613@c.us', '918299471973@c.us', '918299739707@c.us', '918340566138@c.us', '918375956404@c.us', '918393890307@c.us', '918395091655@c.us', '918439101242@c.us', '918439184271@c.us', '918439192058@c.us', '918439312142@c.us', '918439590035@c.us', '918439590051@c.us', '918439613011@c.us', '918439881998@c.us', '918441045593@c.us', '918447371955@c.us', '918447719975@c.us', '918447915942@c.us', '918449466911@c.us', '918474981951@c.us', '918477934175@c.us', '918504966514@c.us', '918505908302@c.us', '918510030872@c.us', '918535028539@c.us', '918543914762@c.us', '918572839236@c.us', '918587023708@c.us', '918588800923@c.us', '918601071155@c.us', '918604062835@c.us', '918604609766@c.us', '918604937012@c.us', '918630358008@c.us', '918650815062@c.us', '918660444809@c.us', '918696989408@c.us', '918738921561@c.us', '918743019179@c.us', '918743966893@c.us', '918744019351@c.us', '918744827895@c.us', '918750779869@c.us', '918755160217@c.us', '918763906931@c.us', '918765248246@c.us', '918765275981@c.us', '918765348424@c.us', '918765436672@c.us', '918765506011@c.us', '918765864238@c.us', '918790470201@c.us', '918791013925@c.us', '918791041917@c.us', '918791122058@c.us', '918791243986@c.us', '918791431819@c.us', '918791551689@c.us', '918791576966@c.us', '918791615905@c.us', '918800624546@c.us', '918802907496@c.us', '918826783709@c.us', '918853003151@c.us', '918858150032@c.us', '918860175382@c.us', '918860433332@c.us', '918860547260@c.us', '918860604560@c.us', '918860788368@c.us', '918860958647@c.us', '918868003003@c.us', '918874092273@c.us', '918875407850@c.us', '918875996035@c.us', '918881351968@c.us', '918881369099@c.us', '918882065182@c.us', '918884412581@c.us', '918890971703@c.us', '918896277997@c.us', '918923193176@c.us', '918923208572@c.us', '918923483176@c.us', '918923970546@c.us', '918947987268@c.us', '918948873003@c.us', '918953456467@c.us', '918958077377@c.us', '918958360232@c.us', '918958434949@c.us', '918958617543@c.us', '918960609562@c.us', '918960835470@c.us', '919012140064@c.us', '919027425318@c.us', '919044609228@c.us', '919044842658@c.us', '919044870034@c.us', '919044872861@c.us', '919045028187@c.us', '919045113110@c.us', '919045224221@c.us', '919045321537@c.us', '919045519409@c.us', '919045527523@c.us', '919045859954@c.us', '919057947112@c.us', '919057947136@c.us', '919057948497@c.us', '919057950865@c.us', '919069702072@c.us', '919078907770@c.us', '919084083938@c.us', '919119072177@c.us', '919149082467@c.us', '919149344080@c.us', '919166036124@c.us', '919169150761@c.us', '919170143309@c.us', '919205850237@c.us', '919205867793@c.us', '919211902977@c.us', '919307525148@c.us', '919319957576@c.us', '919350157921@c.us', '919410249968@c.us', '919411477336@c.us', '919411894339@c.us', '919414367835@c.us', '919415340985@c.us', '919415751180@c.us', '919415905876@c.us', '919424708310@c.us', '919450111826@c.us', '919451013942@c.us', '919451450289@c.us', '919451531346@c.us', '919451636554@c.us', '919452147608@c.us', '919453897483@c.us', '919453921479@c.us', '919454521645@c.us', '919455014815@c.us', '919455182373@c.us', '919455335733@c.us', '919455500572@c.us', '919455654322@c.us', '919455663122@c.us', '919455681163@c.us', '919456380784@c.us', '919456639848@c.us', '919457112436@c.us', '919457118316@c.us', '919457118343@c.us', '919457119424@c.us', '919457139690@c.us', '919457197463@c.us', '919457544377@c.us', '919457984728@c.us', '919458046050@c.us', '919458710099@c.us', '919458751061@c.us', '919459296656@c.us', '919462687021@c.us', '919462878712@c.us', '919464565319@c.us', '919488483577@c.us', '919506566316@c.us', '919506910890@c.us', '919507627630@c.us', '919519986603@c.us', '919521343709@c.us', '919530080192@c.us', '919532377015@c.us', '919532688663@c.us', '919540455907@c.us', '919540927617@c.us', '919540950384@c.us', '919557752950@c.us', '919557859799@c.us', '919557876013@c.us', '919560270332@c.us', '919564644313@c.us', '919568197787@c.us', '919571595096@c.us', '919582075920@c.us', '919582195846@c.us', '919582448616@c.us', '919582824438@c.us', '919587456479@c.us', '919587849272@c.us', '919587860183@c.us', '919587862697@c.us', '919587887872@c.us', '919587908018@c.us', '919591514478@c.us', '919598792580@c.us', '919600225904@c.us', '919602183463@c.us', '919602219255@c.us', '919602567859@c.us', '919610065538@c.us', '919610089656@c.us', '919610120375@c.us', '919610444662@c.us', '919611257907@c.us', '919616296905@c.us', '919621293520@c.us', '919627430841@c.us', '919627555444@c.us', '919627819594@c.us', '919628447825@c.us', '919632876377@c.us', '919634396572@c.us', '919634407670@c.us', '919634446420@c.us', '919636230720@c.us', '919636287680@c.us', '919643696570@c.us', '919643979717@c.us', '919648125982@c.us', '919649046085@c.us', '919650207563@c.us', '919650411679@c.us', '919650596352@c.us', '919654328841@c.us', '919654449920@c.us', '919654701561@c.us', '919654788443@c.us', '919672207368@c.us', '919672673527@c.us', '919675047137@c.us', '919675479747@c.us', '919711265798@c.us', '919716051364@c.us', '919716771574@c.us', '919717785089@c.us', '919718596007@c.us', '919719213953@c.us', '919719525076@c.us', '919720021100@c.us', '919736843677@c.us', '919739813407@c.us', '919741971286@c.us', '919758514515@c.us', '919758681279@c.us', '919760100414@c.us', '919760295088@c.us', '919760576577@c.us', '919761122270@c.us', '919761670437@c.us', '919785622794@c.us', '919794606000@c.us', '919807025136@c.us', '919807901996@c.us', '919808785137@c.us', '919810736793@c.us', '919811148206@c.us', '919811753792@c.us', '919818069844@c.us', '919818604652@c.us', '919828104224@c.us', '919828881219@c.us', '919839111775@c.us', '919845180207@c.us', '919871714718@c.us', '919871966592@c.us', '919873837344@c.us', '919891292433@c.us', '919891482338@c.us', '919897141221@c.us', '919899193809@c.us', '919899430371@c.us', '919899912343@c.us', '919900063093@c.us', '919910348407@c.us', '919910561307@c.us', '919910806164@c.us', '919910831765@c.us', '919917389289@c.us', '919917545455@c.us', '919917741206@c.us', '919918359124@c.us', '919919756565@c.us', '919927077838@c.us', '919927111012@c.us', '919930337572@c.us', '919934183123@c.us', '919935308943@c.us', '919935486197@c.us', '919945670936@c.us', '919953363600@c.us', '919953513161@c.us', '919953869446@c.us', '919955848031@c.us', '919956009802@c.us', '919958545856@c.us', '919958636462@c.us', '919958850759@c.us', '919958867473@c.us', '919968810580@c.us', '919971243942@c.us', '919971535286@c.us', '919972544464@c.us', '919986942939@c.us', '919990063337@c.us', '919996312607@c.us', '919997554207@c.us', '919999106604@c.us', '919999441830@c.us', '919999999605@c.us'];
var contacts=['917899326587@c.us']
var delieveryCount=0;
var count=0;
function sendMessage()
{

    var Chats = Store.Chat.models;
    var contact = contacts[0];
    var message = "Jai Mata Di "+ count;
    count++;
//    contact = contact + "@c.us";

    if(contact in spamList) {
       console.log("Number in Spam list "+contact);
       index++;
        return;
    }

    flag = false;

    for (chat in Chats) {
        if (isNaN(chat)) {
            continue;
        }
        ;
        var temp = {};
        temp.contact = Chats[chat].__x__formattedTitle;
        temp.id = Chats[chat].__x_id;
        if (temp.id.search(contact) != -1) {
            flag = true;
        }
    }
    console.log(contact);
    if (!flag) {
        Store.Chat.gadd(contact);
    }

    for (chat in Chats) {
        if (isNaN(chat)) {
            continue;
        }
        ;
        var temp = {};
        temp.contact = Chats[chat].__x__formattedTitle;
        temp.id = Chats[chat].__x_id;
        if (temp.id.search(contact) != -1) {
            Chats[chat].sendMessage(message);
            delieveryCount++;

        }
    }
    index++;
    console.log("Numbers processed- "+index+" "+"Total Successful Deliveries -  "+delieveryCount);
}
/*
_mysql_exceptions.OperationalError: (1205, 'Lock wait timeout exceeded; try restarting transaction')
 */